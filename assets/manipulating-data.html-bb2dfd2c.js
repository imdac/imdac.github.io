import{_ as n,p as s,q as a,a3 as e}from"./framework-dd056dd6.js";const t={},o=e(`<h1 id="manipulating-data-in-firestore" tabindex="-1"><a class="header-anchor" href="#manipulating-data-in-firestore" aria-hidden="true">#</a> Manipulating Data in Firestore</h1><p>While data will only be retrieved from a Firestore database a majority of the time, it is still necessary to manipulate the data from time to time. This includes adding new documents and updating and deleting existing documents.</p><p>However, just like retrieving data, each task requires specific methods that must be imported before using.</p><h2 id="adding-documents" tabindex="-1"><a class="header-anchor" href="#adding-documents" aria-hidden="true">#</a> Adding Documents</h2><p>Adding a new document to an existing collection requires the <code>collection</code> and <code>addDoc</code> methods. The <code>addDoc</code> method will return a promise and thus should be accompanied by <code>async</code> and <code>await</code>.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> collection<span class="token punctuation">,</span> addDoc <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;firebase/firestore&#39;</span>
<span class="token keyword">import</span> db <span class="token keyword">from</span> <span class="token string">&#39;./db&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">addRestaurant</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token function">collection</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">&#39;restaurants&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> document <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">addDoc</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>
          <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>city 
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="updating-documents" tabindex="-1"><a class="header-anchor" href="#updating-documents" aria-hidden="true">#</a> Updating Documents</h2><p>The <code>doc</code> and <code>updateDoc</code> methods will be employed when updating a document. Like the <code>addDoc</code>, the <code>updateDoc</code> method will return a promise.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> doc<span class="token punctuation">,</span> updateDoc <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;firebase/firestore&#39;</span>
<span class="token keyword">import</span> db <span class="token keyword">from</span> <span class="token string">&#39;./db&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">updateRestaurant</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token function">doc</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">&#39;restaurants&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span>
      <span class="token keyword">await</span> <span class="token function">updateDoc</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>
          <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>city 
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;The document has been updated&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="deleting-documents" tabindex="-1"><a class="header-anchor" href="#deleting-documents" aria-hidden="true">#</a> Deleting Documents</h2><p>The <code>doc</code> and <code>deleteDoc</code> methods will be used to delete an existing document. The <code>deleteDoc</code> method does return a promise.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> doc<span class="token punctuation">,</span> deleteDoc <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;firebase/firestore&#39;</span>
<span class="token keyword">import</span> db <span class="token keyword">from</span> <span class="token string">&#39;./db&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">deleteRestaurant</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token function">doc</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">&#39;restaurants&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span>
      <span class="token keyword">await</span> <span class="token function">deleteDoc</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;The document has been deleted&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12),p=[o];function c(i,l){return s(),a("div",null,p)}const u=n(t,[["render",c],["__file","manipulating-data.html.vue"]]);export{u as default};
